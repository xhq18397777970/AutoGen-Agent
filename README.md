# å¤šAgentæ™ºèƒ½åŠ©æ‰‹ç³»ç»Ÿ

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºAutoGenæ¡†æ¶çš„æ¨¡å—åŒ–å¤šAgentç³»ç»Ÿï¼Œé‡‡ç”¨æ¸…æ™°çš„æ–‡ä»¶å¤¹ç»“æ„ç»„ç»‡ä¸åŒåŠŸèƒ½çš„Agentã€‚æ¯ä¸ªAgentä¸“æ³¨äºç‰¹å®šé¢†åŸŸçš„ä»»åŠ¡ï¼ŒåŒæ—¶æ”¯æŒMCPå·¥å…·é›†æˆã€‚

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ agents/                    # Agentæ¨¡å—ç›®å½•
â”‚   â”œâ”€â”€ weather_agent/         # å¤©æ°”æŸ¥è¯¢Agent
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ weather_tools.py   # å¤©æ°”æŸ¥è¯¢å·¥å…·
â”‚   â”‚   â””â”€â”€ weather_agent.py   # å¤©æ°”Agentç±»
â”‚   â””â”€â”€ ip_agent/              # IPæŸ¥è¯¢Agent
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ ip_tools.py        # IPæŸ¥è¯¢å·¥å…·
â”‚       â””â”€â”€ ip_agent.py        # IP Agentç±»
â”œâ”€â”€ common/                    # é€šç”¨æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ agent_manager.py       # Agentç®¡ç†å™¨
â”œâ”€â”€ mcp/                       # MCPå·¥å…·å®šä¹‰
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ tools_registry.py      # å·¥å…·æ³¨å†Œè¡¨
â”œâ”€â”€ main.py                    # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ test.py                    # åŸå§‹æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ requirements.txt           # ä¾èµ–åŒ…åˆ—è¡¨
```

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– å¤šAgentåä½œ
- **å¤©æ°”æŸ¥è¯¢Agent**: ä¸“é—¨å¤„ç†å¤©æ°”ç›¸å…³æŸ¥è¯¢
- **IPåœ°å€æŸ¥è¯¢Agent**: ä¸“é—¨å¤„ç†IPå½’å±åœ°æŸ¥è¯¢
- **é€šç”¨åŠ©æ‰‹Agent**: å¤„ç†ä¸€èˆ¬æ€§é—®é¢˜å’Œä»»åŠ¡åè°ƒ
- **æ™ºèƒ½è·¯ç”±Agent**: åˆ†æç”¨æˆ·æ„å›¾å¹¶åˆ†é…ç»™åˆé€‚çš„ä¸“å®¶

### ğŸ› ï¸ æ¨¡å—åŒ–è®¾è®¡
- æ¯ä¸ªAgentç‹¬ç«‹å°è£…åœ¨è‡ªå·±çš„æ–‡ä»¶å¤¹ä¸­
- ç»Ÿä¸€çš„å·¥å…·æ³¨å†Œè¡¨ç®¡ç†æ‰€æœ‰å¯ç”¨å·¥å…·
- é…ç½®é›†ä¸­ç®¡ç†ï¼Œæ”¯æŒç¯å¢ƒå˜é‡
- Agentç®¡ç†å™¨ç»Ÿä¸€åè°ƒæ‰€æœ‰Agent

### ğŸ”§ MCPå·¥å…·æ”¯æŒ
- å·¥å…·æ³¨å†Œè¡¨ç»Ÿä¸€ç®¡ç†æ‰€æœ‰å·¥å…·
- æ”¯æŒåŠ¨æ€æ·»åŠ æ–°å·¥å…·
- æ ‡å‡†åŒ–çš„å·¥å…·æ¥å£å®šä¹‰

## å®‰è£…å’Œä½¿ç”¨

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶é…ç½®ç›¸å…³APIå¯†é’¥ï¼š
```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```env
# LLMé…ç½®
LLM_MODEL=deepseek-chat
LLM_API_KEY=your_api_key_here
LLM_BASE_URL=https://api.deepseek.com

# å¤©æ°”APIé…ç½®
WEATHER_API_KEY=your_weather_api_key_here
```

### 3. è¿è¡Œç¨‹åº
```bash
python main.py
```

## ä½¿ç”¨æ–¹å¼

ç¨‹åºæä¾›6ç§ä½¿ç”¨æ¨¡å¼ï¼š

1. **å¤©æ°”æŸ¥è¯¢åŠ©æ‰‹** - ç›´æ¥ä¸å¤©æ°”Agentå¯¹è¯
2. **IPåœ°å€æŸ¥è¯¢åŠ©æ‰‹** - ç›´æ¥ä¸IPæŸ¥è¯¢Agentå¯¹è¯
3. **å¤šAgentååŒèŠå¤©** - æ‰€æœ‰AgentååŒå·¥ä½œ
4. **æ™ºèƒ½è·¯ç”±å¯¹è¯** - é€šè¿‡è·¯ç”±Agentè‡ªåŠ¨åˆ†é…ä»»åŠ¡
5. **æ˜¾ç¤ºAgentä¿¡æ¯** - æŸ¥çœ‹æ‰€æœ‰Agentçš„èƒ½åŠ›
6. **æ˜¾ç¤ºå¯ç”¨å·¥å…·** - æŸ¥çœ‹æ‰€æœ‰æ³¨å†Œçš„å·¥å…·

## æ‰©å±•æ–°Agent

### 1. åˆ›å»ºAgentæ–‡ä»¶å¤¹
```bash
mkdir agents/new_agent
touch agents/new_agent/__init__.py
```

### 2. åˆ›å»ºå·¥å…·æ¨¡å—
åœ¨ `agents/new_agent/new_tools.py` ä¸­å®šä¹‰å·¥å…·å‡½æ•°å’Œschemaã€‚

### 3. åˆ›å»ºAgentç±»
åœ¨ `agents/new_agent/new_agent.py` ä¸­åˆ›å»ºAgentåŒ…è£…ç±»ã€‚

### 4. æ³¨å†Œåˆ°ç³»ç»Ÿ
åœ¨ `common/agent_manager.py` ä¸­æ·»åŠ æ–°Agentçš„åˆå§‹åŒ–ã€‚
åœ¨ `mcp/tools_registry.py` ä¸­æ³¨å†Œæ–°å·¥å…·ã€‚

## APIå¯†é’¥è¯´æ˜

- **LLM API**: æ”¯æŒOpenAIå…¼å®¹çš„APIï¼Œé»˜è®¤ä½¿ç”¨DeepSeek
- **å¤©æ°”API**: ä½¿ç”¨OpenWeatherMap API
- **IPæŸ¥è¯¢**: ä½¿ç”¨å…è´¹çš„ipapi.coæœåŠ¡

## æŠ€æœ¯æ ˆ

- **AutoGen**: å¤šAgentæ¡†æ¶
- **httpx**: å¼‚æ­¥HTTPå®¢æˆ·ç«¯
- **python-dotenv**: ç¯å¢ƒå˜é‡ç®¡ç†
- **typing**: ç±»å‹æ³¨è§£æ”¯æŒ

## å¼€å‘å»ºè®®

1. **æ¨¡å—åŒ–åŸåˆ™**: æ¯ä¸ªAgentåº”è¯¥ç‹¬ç«‹å°è£…ï¼ŒèŒè´£å•ä¸€
2. **é…ç½®ç»Ÿä¸€**: æ‰€æœ‰é…ç½®é€šè¿‡configæ¨¡å—ç®¡ç†
3. **å·¥å…·æ³¨å†Œ**: æ–°å·¥å…·åº”è¯¥æ³¨å†Œåˆ°tools_registry
4. **é”™è¯¯å¤„ç†**: æ‰€æœ‰APIè°ƒç”¨éƒ½åº”è¯¥æœ‰é€‚å½“çš„é”™è¯¯å¤„ç†
5. **æ–‡æ¡£å®Œå–„**: æ¯ä¸ªæ¨¡å—éƒ½åº”è¯¥æœ‰æ¸…æ™°çš„æ–‡æ¡£è¯´æ˜

## è®¸å¯è¯

MIT License